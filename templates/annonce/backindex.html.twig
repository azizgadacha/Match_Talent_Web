{% extends 'base1.html.twig' %}

{% block title %}Annonce{% endblock %}

{% block body %}

    <main>



        {% for type, messages in app.flashes %}
            {% for message in messages %}
                <div class="flash-message flash-message-{{ type }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <div class="job_listing_area section-bg2 plus_padding">
            <div class="container">
                <div class="row">


                    <div class="col-lg-12">
                        <div class="recent_joblist_wrap">
                            <div class="recent_joblist white-bg ">
                                <div class="row align-items-center">
                                    <div class="col-md-8 col-lg-5">
                                        <h4>Job Listing</h4>
                                    </div>


                                        <div class="search_cat d-flex justify-content-end">


                                    </div>




                                    <script>
                                        const selectEl = document.getElementById('categorie-select');

                                    </script>

                                    {% for categorie in categories %}

                                        <form action="{{ path('app_annonce_find', {'nomcategorie': categorie.nomcategorie}) }}" method="POST">

                                            <button  type="submit"  id="{{categorie.nomcategorie}}" class="text-danger buttonClass" style=" display: none" >

                                            </button>
                                        </form>

                                    {% endfor %}



                                </div>
                                <script>
                                    const buttons = Array.from(document.querySelectorAll('.buttonClass'));
                                    const buttonIds = buttons.map(button => button.id);
                                    function getComboA(selectObject) {
                                        buttons.map(button => {
                                                if (selectObject.value ===button.id ) {
                                                    document.getElementById(button.id).click()
                                                }
                                            }
                                        );
                                    }


                                </script>
                            </div>
                        </div>



                        <div class="job_lists m-0">
                            <div class="row">


                                {% for annonce in annonces %}

                                    <div class="col-lg-12 col-md-12">
                                        <div class="single_jobs white-bg d-flex justify-content-between">
                                            <div class="jobs_left d-flex align-items-center">
                                                <div class="thumb">
                                                    <img src='{{ asset ("assets/img/icon/1.svg")}}' alt="">
                                                </div>
                                                <div class="jobs_conetent">
                                                    <a href="{{ path('app_annonce_show', {'idAnnonce': annonce.idAnnonce})  }}"><h4>{{ annonce.titre }}</h4> </a>
                                                    <div class="links_locat d-flex align-items-center">
                                                        <div class="location">
                                                            <p> <i class="fas fa-map-marker-alt"></i>{{ annonce.Societe }}</p>
                                                        </div>
                                                        <div class="location">
                                                            <p> <i class="far fa-clock"></i> {{ annonce.datefin ? annonce.datefin|date('Y-m-d') : '' }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <form action="{{ path('app_annonce_delete', {'idAnnonce': annonce.idAnnonce}) }}" method="POST">
                                           <button class="bc1" id="{{ annonce.idAnnonce }}" style="display: none" type="submit"></button>
                                            </form>



                                        </div>
                                    </div>

                                {% endfor %}
                            </div>
                        </div>




                        <div class="row">
                            <div class="col-lg-12">
                                <div class="pagination_wrap">
                                    <ul>
                                        <li><a href='{{ asset ("/assets/#")}}'> <i class="ti-angle-left"></i> </a></li>
                                        <li><a href='{{ asset ("/assets/#")}}'><span>01</span></a></li>
                                        <li><a href='{{ asset ("/assets/#")}}'><span>02</span></a></li>
                                        <li><a href='{{ asset ("/assets/#")}}'> <i class="ti-angle-right"></i> </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>





    </main>



    <script>
        const btn = Array.from(document.querySelectorAll('.bc1'));
        const butIds = btn.map(button => button.id);
        function ClickOther(btnclick) {

            btn.map(button => {
                    if (btnclick.id ===button.id ) {
                        document.getElementById(button.id).click()
                    }
                }
            );
        }



        document.getElementById("button1").addEventListener("click", function() {

            document.getElementById("button2").click();
        });
    </script>




{% endblock %}
